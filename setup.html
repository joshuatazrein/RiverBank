<!DOCTYPE html>
<!-- trying this -->
<html>
<head>
  <meta charset='utf-8'>
  <title>flop&pop</title>
  <script src="jquery.js"></script>
  <script src='filesaver.js'></script> <!-- this is the extension to save a text file -->
  <script src='timer.js'></script>
  <!-- load data and append stylesheet to head-->
  <script id='load' src='load.js'></script>
  <link href='style.css' rel='stylesheet' />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script src="touch-punch.js"></script>
</head>
<body>
  <div class='container'>
    <div class='leftcolumn'>
      <div>
        <p id='username'></p>
      </div>
      <div class='butbar'>
        <div class='butbar' id='movebuts'>
          <button function="moveTask('up')" title='move up'>↑</button>
          <button function="moveTask('down')" title='move down'>↓</button>
          <button function="editTask()" title='edit'>o</button>
          <button function="deleteTask()" title='delete'>x</button>
          <button function="archiveTask(true)" title='complete'>!</button>
        </div>
        <div class='mobilehide butbar'>
          <button title='unfold' function='toggleSubtasks()'>[</button>
          <button title='fold' function='toggleSubtasks()'>]</button>
          <button title='unindent' function='indentTask(false)'>{</button>
          <button title='indent' function='indentTask(true)'>}</button>
        </div>
        <div class='butbar mobilehide' id='editbuts'>
          <button title='options' class='opts' id='optionsbut' function='context(ev)'>OPTIONS</button>
          <button title='set task type' id='typebut' function='setOptions()'>TYPE</button>
        </div>
        <div class='mobilehide butbar'>
          <button id='timer25But' title='25 minutes'>25</button>
          <button id='timer15But' title='15 minutes'>15</button>
          <button id='timer5But' title='5 minutes'>5</button>
          <button id='timer+2But' title='+2 minutes'>+2</button>
          <button id='timer-2But' title='-2 minutes'>-2</button>
        </div>
        <div class='butbar'>
          <button id='timerStartBut' title='start timer' style='font-family:monospace'>&#9654;</button>
          <button id='timerStopBut' title='stop timer'>■</button>
        </div>
      </div>
      <input id='timerent' placeholder="timer" />
      <div>
        <input id='searchbar' placeholder="search (d: date)">
        <div id='searchbar-results' class='dropdown' style='position:absolute;'></div>
      </div>
      <p class='title' id='lists'>LISTS</p>
      <div class='butbar' id='listbuts'>
        <button function="newlist()" title='new list'>+</button>
        <button function="deletelist()" title='delete list'>x</button>
        <button function="dragsoff()" title='edit list'>o</button>
      </div>
      <div id='loads' class='loads' onfocusout='dragson()'> <!-- this is used to store list names -->
      </div>
      <p id='help' class='help'>
        <span class='h1'>help</span>
        <span class='h2'>controls</span>
        <span class='command'><span class='left'>click</span><span class='right'>select task</span></span>
        <span class='command'><span class='left'>right-click</span><span class='right'>options</span></span>
        <span class='command'><span class='left'>doubleclick</span><span class='right'>edit task</span></span>
        <span class='command'><span class='left'>esc</span><span class='right'>unselect</span></span>
        <span class='command'><span class='left'>drag/drop</span><span class='right'>move after targer</span></span>
        <span class='command'><span class='left'>option-drag/drop</span><span class='right'>move as subtask</span></span>
        <span class='command'><span class='left'>cmd-drag/drop</span><span class='right'>move before target</span></span>
        <span class='h2'>commands</span>
        <span class='command'><span class='left'>return</span><span class='right'>edit/save</span></span>
        <span class='command'><span class='left'>option-return</span><span class='right'>new task below</span></span>
        <span class='command'><span class='left'>option-shift-return</span><span class='right'>new subtask</span></span>
        <span class='command'><span class='left'>delete</span><span class='right'>delete task</span></span>
        <span class='command'><span class='left'>up/down</span><span class='right'>select above/below</span></span>
        <span class='command'><span class='left'>right/left</span><span class='right'>select between lists</span></span>
        <span class='command'><span class='left'>option-up/down</span><span class='right'>move up/down</span></span>
        <span class='command'><span class='left'>option-right/left</span><span class='right'>move between lists</span></span>
        <span class='command'><span class='left'>[/]</span><span class='right'>fold/un</span></span>
        <span class='command'><span class='left'>option-[/]</span><span class='right'>indent/un</span></span>
        <span class='command'><span class='left'>i</span><span class='right'>important/un</span></span>
        <span class='command'><span class='left'>space</span><span class='right'>complete/un</span></span>
        <span class='command'><span class='left'>shift-space</span><span class='right'>archive</span></span>
        <span class='command'><span class='left'>ctrl-t</span><span class='right'>go to today</span></span>
        <span class='h2'>syntax</span>
        <span class='command'><span class='left'># task</span><span class='right h1'>h1</span></span>
        <span class='command'><span class='left'>## task</span><span class='right h2'>h2</span></span>
        <span class='command'><span class='left'>### task</span><span class='right h3'>h3</span></span>
        <span class='command'><span class='left'>• task</span><span class='right'>• list</span></span>
        <span class='command'><span class='left'>- task</span><span class='right note' style='margin:0;'>- note</span></span>
        <span class='command'><span class='left'>_text_</span><span class='right italic'>italic</span></span>
        <span class='command'><span class='left'>*text* </span><span class='right h1'>bold</span></span>
        <span class='command'><span class='left'>_*text*_ </span><span class='right bold-italic'>bold-italic</span></span>
        <span class='command'><span class='left'>[[text]]</span><span class='right'><span class='link'>link</span> (click to search)</span></span>
        <span class='command'><span class='left'>task >date</span><span class='right'><span class='deadline'>deadline</span> (click to jump to date)</span></span>
        <span class='command'><span class='left'>@time task</span><span class='event'><span class='timing'>time</span>event (click on time to change)</span></span>
        <span class='command'><span class='left'>task ~time</span><span class='right'>repeat (ex: ~1d, ~M or ~Mon, ~2w)</span></span>
        <span class='command'><span class='left'>- list</span><span class='right'>sublist (right-click on parent list to fold)</span></span>
        <span class='h2'>dates</span>
        <span><span class='left'>Type "d:" into the search bar to search a date</span><span class='right'>(toggle between short/long dates in options)</span></span>
        <span class='command'><span class='left'>M/Mon</span><span class='right'>monday</span></span>
        <span class='command'><span class='left'>T/Tue</span><span class='right'>tuesday</span></span>
        <span class='command'><span class='left'>W/Wed</span><span class='right'>wednesday</span></span>
        <span class='command'><span class='left'>R/Thu</span><span class='right'>thursday</span></span>
        <span class='command'><span class='left'>F/Fri</span><span class='right'>friday</span></span>
        <span class='command'><span class='left'>S/Sat</span><span class='right'>saturday</span></span>
        <span class='command'><span class='left'>U/Sun</span><span class='right'>sunday</span></span>
        <span class='command'><span class='left'>t or 0d</span><span class='right'>today's weekday</span></span>
        <span class='command'><span class='left'>#d/w/m/y</span><span class='right'>change by time unit</span></span>
        <span class='command'><span class='left'>d</span><span class='right'>weeks</span></span>
        <span class='command'><span class='left'>w</span><span class='right'>weeks</span></span>
        <span class='command'><span class='left'>m</span><span class='right'>months</span></span>
        <span class='command'><span class='left'>y</span><span class='right'>years</span></span>
        <span class='h2'>examples</span>
        <span class='command'><span class='left'>replace M with Mon for long dates option</span></span>
        <span class='command'><span class='left'>d:M</span><span class='right'>next Monday)</span></span>
        <span class='command'><span class='left'>d:M1w</span><span class='right'>a week from Monday)</span></span>
        <span class='command'><span class='left'>d:M1m</span><span class='right'>the first Monday next month)</span></span>
        <span class='command'><span class='left'>d:M1m1w</span><span class='right'>a week after the first Monday of next month)</span></span>
        <span class='command'><span class='left'>d:M1y</span><span class='right'>the first Monday of next year)</span></span>
        <span class='command'><span class='left'>you can also type in a date</span><span class='right'>day, day & month, or day month & year) to find that date</span></span>
        <span><span class='left'>change between dd.mm.yyyy, yyyy-mm-dd, and mm/dd/yyyy formats in options</span></span><br><br>
      </p>
    </div>
    <div class='listcontainer'>
      <div class='floplist'>
        <div class='butbar' id='flopbuts'>
          <button class='flopbut' id='flopBut' title='new task in bank'>+ BANK</button>
          <button id='newHeadingFlopBut' title='new heading in bank'>+#</button>
          <button function="selectRandom()" title='select random flop'>?</button>
          <button function="moveTask('pop')" title='move task to river'>→</button>
        </div>
        <p id='flop' class='rendered in' ondrop='dropTask(event)' ondragover='draggingOver(event)'></p>
        <div style='height:500px;'></div>
        <p id='texttest'></p>
      </div>
      <div class='poplist'>
        <div class='butbar'>
          <button function="moveTask('flop')" title='move task to bank'>←</button>
          <button id='todayBut' title='jump to today'>today</button>
          <button id='addDateBut' title='add date'>+#</button>
          <button class='flopbut' id='popBut' title='new task in river'>+ RIVER</button>
        </div>
        <p id='pop' class='rendered in' ondrop='dropTask(event)' ondragover='draggingOver(event)'></p>
      </div>
    </div>
  </div>
  <div style='height:500px;background-color:transparent;'></div>
  <p id='test' style='display:none;position:absolute;'><p>
  <nav id="context-menu">

    <p function='editTask()' class='dropdown-item' id='context-editTask'>edit task (enter)</p>
    <p function='newTask()' class='dropdown-item' id='context-newTask'>new task (opt-enter)</p>
    <p function='newTask(subtask=true)' class='dropdown-item' id='context-newSubtask'>new subtask (shift-opt-enter)</p>
    <p function='deleteTask()' class='dropdown-item' id='context-deleteTask'>delete (del)</p>
    <p function='archiveTask()' class='dropdown-item' id='context-archiveTask'>archive (shift-space)</p>
    <p function='' class='dropdown-item' id='context-divider'>————————————</p>

    <p function='toggleComplete()' class='dropdown-item' id='context-toggleComplete'>toggle complete (space)</p>
    <p function='toggleImportant()' class='dropdown-item' id='context-toggleimportant'>toggle important (i)</p>
    <p function='toggleSubtasks()' class='dropdown-item' id='context-toggleSubtasks'>toggle fold ([/])</p>
    <p function='indentTask(true)' class='dropdown-item' id='context-indentTask'>indent (option-])</p>
    <p function='indentTask(false)' class='dropdown-item' id='context-unIndentTask'>unindent (option-[)</p>
    <p function='archiveComplete()' class='dropdown-item' id='context-archiveComplete'>archive completed</p>
    <p function='clearEmptyHeadlines()' class='dropdown-item' id='context-clearEmptyHeadlines'>clear empty</p>
    <p function='select(dateToHeading(stringToDate("t")))' class='dropdown-item' id='context-goToToday'>go to today</p>

    <p function='newlist()' class='dropdown-item' id='context-newlist'>new</p>
    <p function='toggledrags()' class='dropdown-item' id='context-toggledrags'>edit</p>
    <p function='deletelist()' class='dropdown-item' id='context-deletelist'>delete</p>
    <p function='toggleFoldList()' class='dropdown-item' id='context-toggleFoldList'>toggle fold</p>

    <p function='toggleHelp()' class='dropdown-item' id='context-toggleHelp'>toggle help</p>
    <p function='toggleButs()' class='dropdown-item' id='context-toggleButs'>toggle buttons</p>

    <p function='reset()' class='dropdown-item' id='context-reset'>reset</p>
    <p function='switchUser()' class='dropdown-item' id='context-switchUser'>switch user</p>
    <p function='upload()' class='dropdown-item' id='context-upload'>upload backup</p>
    <p function='download()' class='dropdown-item' id='context-download'>download backup</p>

    <p function='setStyle("default.css")' class='dropdown-item' id='context-styleDefault'>style: dark</p>
    <p function='setStyle("jason.css")' class='dropdown-item' id='context-styleJason'>style: blue</p>
    <p function='setStyle("light.css")' class='dropdown-item' id='context-styleGreen'>style: light</p>
    <p function='setStyle("green.css")' class='dropdown-item' id='context-styleLight'>style: green</p>
    <p function='setStyle("pink.css")' class='dropdown-item' id='context-stylePink'>style: pink</p>

    <p function='toggleHeadingAlign()' class='dropdown-item' id='context-toggleHeadingAlign'>toggle heading centering</p>
    <p function='toggleWeekdayFormat()' class='dropdown-item' id='context-weekdaysToggle'>weekdays: M/Mon</p>
    <p function='changeDateFormat("dd.mm.yyyy")' class='dropdown-item' id='context-changeDate1'>dates: dd.mm.yyyy</p>
    <p function='changeDateFormat("mm/dd/yyyy")' class='dropdown-item' id='context-changeDate2'>dates: mm/dd/yyyy</p>
    <p function='changeDateFormat("yyyy-mm-dd")' class='dropdown-item' id='context-changeDate3'>dates: yyyy-mm-dd</p>

  </nav>
  <nav id='settype-menu'>
    <p class='dropdown-item' title='set h1' function='setTask("h1")'># h1</p>
    <p class='dropdown-item'  title='set h2' function='setTask("h2")'>## h2</p>
    <p class='dropdown-item'  title='set h3' function='setTask("h3")'>### h3</p>
    <p class='dropdown-item'  title='set event' function='setTask("event")'>@ event</p>
    <p class='dropdown-item' title='set list' function='setTask("list")'>• list</p>
    <p class='dropdown-item' title='set note' function='setTask("note")'>- note</p>
    <p class='dropdown-item' title='set repeat' function='setTask("repeat")'>~ repeat</p>
    <p class='dropdown-item' title='set deadline' function='setTask("deadline")'>> deadline</p>
    <p class='dropdown-item' title='set blank' function='setTask("")'>_ blank</p>
  </nav>
  <!-- sounds -->
  <script type='text/javascript' src='script.js'></script>
  <audio src='snd/pop.mp3' type='audio/mp3' id='popsnd'></audio>
  <audio src='snd/timer.mp3' type='audio/mp3' id='timersnd' loop></audio>
</body>
</html>